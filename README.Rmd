---
output: github_document
---

# catool: Compensation Analysis Tool

[![CRAN status](https://www.r-pkg.org/badges/version/catool)](https://CRAN.R-project.org/package=catool)
[![R-CMD-check](https://github.com/dawit3000/catool/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/dawit3000/catool/actions/workflows/R-CMD-check.yaml)
[![Lifecycle: experimental](https://img.shields.io/badge/lifecycle-experimental-orange.svg)](https://lifecycle.r-lib.org/articles/stages.html#experimental)
[![GitHub version](https://img.shields.io/github/v/tag/dawit3000/catool?label=GitHub&logo=github)](https://github.com/dawit3000/catool)

**catool** (Compensation Analysis Tool) is an R package that calculates fair and transparent overload pay for college instructors. It processes course schedule data, identifies overload credit hours, and applies enrollment-based proration logic to compute compensation aligned with institutional policies.

---

## üîß Features

- Filters qualified credit hours based on enrollment thresholds
- Computes prorated overload compensation per course
- Generates instructor-level summaries with totals and notes
- Batch-processes full schedules across all instructors
- Supports flexible filtering by subject, instructor name, or division
- Returns clean, export-ready tibbles for downstream use

---

## üì¶ Installation

```r
# Install from GitHub
# install.packages("remotes")  # If not already installed
remotes::install_github("dawit3000/catool")
````

---

## üóÇÔ∏è Example Usage

```r
library(catool)
schedule <- read.csv("data-raw/schedule.csv")

# Analyze one instructor
ol_comp(get_instructor_schedule("Lalau-Hitchcock", schedule))

# With custom institutional policy
ol_comp(get_instructor_schedule("Smith", schedule),
        L = 4, U = 9, rate_per_cr = 2500 / 3, reg_load = 12)

# Full schedule summary
ol_comp_summary(schedule)
```

---

## üîç Advanced Filtering

```r
# Division-level schedule
get_division_schedule("Business Administration", schedule)

# Subject code pattern matching
get_subject_schedule("^MATH|^STAT", schedule)

# Combined filters
filter_schedule(schedule,
                division = "Nursing",
                instructor_pattern = "lee")
```

---

## üìÑ Input Format

Your course schedule must contain these columns:

| Column       | Description                     |
| ------------ | ------------------------------- |
| `INSTRUCTOR` | Instructor name                 |
| `HRS`        | Credit hours per course         |
| `ENRLD`      | Course enrollment               |
| `SUBJ`       | Subject code (e.g., MATH, ENGL) |

Additional fields like `TITLE`, `DAYS`, or `LOCATION` are allowed but not required.

---

## üìä Output

The output is a tidy tibble that includes:

* Per-course overload compensation (`ROW_AMOUNT`)
* Qualified credit hours (`QUALIFIED_CR`)
* Payment type (`TYPE`: PRORATED or blank)
* Instructor-level summary block (e.g., TOTAL row, note lines)
* Final `SUMMARY` column (always last) with readable labels

---

## üìö Documentation

üìñ [**Full Walkthrough**](https://dawit3000.github.io/catool/articles/catool-walkthrough.html)

The vignette includes methodology, assumptions, institutional policy rules, and full examples.

---

## ‚úçÔ∏è Author

Developed and maintained by **Dawit Aberra**.

Licensed under **AGPL-3**. Please cite appropriately when using this tool in research, institutional reporting, or compensation policy audits.

For questions or feedback, please open a [GitHub issue](https://github.com/dawit3000/catool/issues) or contact the author at <dawit3000@hotmail.com>.
