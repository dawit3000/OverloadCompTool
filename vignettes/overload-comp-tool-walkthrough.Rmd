---
title: "Overload Compensation Analysis Tool: Walkthrough"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Overload Compensation Tool: Walkthrough}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```r
library(OverloadCompTool)
library(dplyr)
````

## 🔍 Introduction

This vignette demonstrates how to use the `OverloadCompTool` R package to calculate institutional overload compensations for instructors based on their institutional course schedule and compensation guidelines.

The tool supports both individual instructor analysis and full-schedule summarization, automatically computing prorated compensation based on institutional policies.

---


## 🏫 Load schedule

```r
schedule <- read.csv("data-raw/schedule.csv")
```

---

## 📊 Get Schedule for one Instructor

```r
get_instructor_schedule("Lalau-Hitchcock, Diksha")
```

---

## 📊 Calculate Overload Compensation of an Instructor from their Schedule (IS)

```r
IS <- get_instructor_schedule("Lalau-Hitchcock, Diksha", schedule)
calculate_overload_compensation(IS) # Uses default institutional policy
calculate_overload_compensation(IS, L = 4, U = 8, reg_load = 9, rate_per_cr = 5000 / 3) # Uses user-defined institutional policy

```


---

## 📊 List Unique Instructors (scheduled this semester)

```r
list_unique_instructors(schedule)

```

---

## 📊 Summerize compensation of an Instructor by index. This internally uses the list of unique instructors in the schedule and will summarize Overload Compensation of the n-th instructor in the list of Unique Instructors.

```r
summarize_instructor_by_index(108, schedule_df = schedule) # the 108-th Instructor compensation summary using default policy
summarize_instructor_by_index(108, schedule_df = schedule, L = 4, U = 9, rate_per_cr = 2500 / 3, reg_load = 12) # Applies user-inputted institutional policy

```

---

## 📊 Summarize overload compensation of all instructors scheduled this semester

```r
summarize_all_instructors(schedule) # Uses default institutional policy
summarize_all_instructors(schedule, L = 4, U = 9, rate_per_cr = 2500 / 3, reg_load = 12) # Applies user-inputted institutional policy

```

---

## 📝 Explanation

The **Overload Compensation Analysis Tool `(OverloadCompTool)`** determines institutional compensations based on the number of students enrolled (ENRLD), institutional rate of compensation per credit hour (`rate_per_cr`), proration requirements, and the number of qualified credit hours taught by the instructor. The following rules apply:

* **L = 4** (Lower Bound) and **U = 9** (Upper Bound) are the **default values** used for the proration range.

  * If a course has **4 or more students enrolled** (i.e., ENRLD ≥ 4), it is **prorated** for compensation, with the exact proration determined based on the number of students.
  * If a course has **fewer than 4 students** (i.e., ENRLD < 4), no overload compensation is provided, as the course does not meet the minimum threshold for proration.
  * Courses with **4 to 9 students** enrolled (i.e., 4 ≤ ENRLD ≤ 9) are **prorated** based on the number of students, so compensation is scaled accordingly.
  * Courses with **10 or more students** (i.e., ENRLD ≥ 10) receive **full overload compensation**, as they meet the threshold for full credit rate compensation.

* **L and U can be customized**:
  While the default values for **L** and **U** are 4 and 9 respectively, users have the option to adjust these values to suit specific needs or institutional policies.

* **Regular load consideration (`reg_load`)**:
  The **regular load** (by default, **12 credit hours**) is the baseline for calculating overload pay. **Only the credit hours worked beyond the regular load** are eligible for overload compensation. The default regular load is represented by the variable `reg_load` (default value = 12), which can be customized by users. This means users can manipulate the `reg_load` value to match their institution’s standard workload, allowing for more flexible compensation calculations.

* **Pay rate**:
  The default **rate\_per\_cr** (rate per credit hour) is set to **2500 / 3** (approximately 833.33). This value can be adjusted by users to reflect the institution's pay scale for each credit hour taught. Users can modify `rate_per_cr` based on their own compensation structures.

### Notes:

* **Pay rate** is adjustable via the `rate_per_cr` parameter, with the default rate being **2500 / 3** (which can be modified by users).
* **Default thresholds** are:

  * Lower Bound (L) = 4
  * Upper Bound (U) = 9
  * Regular Load (`reg_load`)= 12 credit hours
  * **Rate per Credit Hour**(`rate_per_cr`) = **2500 / 3** 
* **Default values** can be adjusted by end product users based on institutional needs
* **Output is human-readable** and ready for export, ensuring it can be directly shared or used in reports without further formatting.


## 📫 Questions?

Contact Dawit Aberra at aberrad@fvsu.edu
